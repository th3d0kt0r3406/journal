<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Michael‚Äôs Journal</title>
  <meta name="description" content="A simple, fast, accessible personal journal." />
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="assets/favicon.svg" type="image/svg+xml">
</head>
  
<body>
  <a class="skip-link" href="#content">Skip to content</a>
  <header class="site-header" role="banner">
    <h1>Michael‚Äôs Journal</h1>
    <nav class="site-nav" aria-label="Primary">
      <a href="index.html" aria-current="page">Home</a>
      <a href="about.html">About</a>
      <button class="mode-toggle" aria-pressed="false" id="modeToggle" aria-label="Toggle dark mode">üåì</button>
    </nav>
  </header>
  
   <main id="content" class="container" role="main">
    <section aria-labelledby="compose">
      <h2 id="compose">New entry</h2>
      <form id="entryForm" class="entry-form">
        <div class="field">
          <label for="title">Title</label>
          <input type="text" id="title" name="title" placeholder="Today‚Äôs tiny victory" required />
        </div>
        <div class="field-inline">
          <div class="field">
            <label for="date">Date</label>
            <input type="date" id="date" name="date" required />
          </div>
          <div class="field">
            <label for="tags">Tags (comma‚Äëseparated)</label>
            <input type="text" id="tags" name="tags" placeholder="personal, reflection" />
          </div>
        </div>
        <div class="field">
          <label for="body">Body</label>
          <textarea id="body" name="body" rows="10" placeholder="Free-write here. You can use simple line breaks; paragraphs will be auto-wrapped."></textarea>
        </div>
        <div class="actions">
          <button type="button" id="saveToPosts" class="btn">Save to /posts‚Ä¶</button>
          <button type="button" id="downloadHtml" class="btn secondary">Download .html</button>
          <span class="hint">Tip: ‚ÄúSave to /posts‚Ä¶‚Äù uses the browser‚Äôs File System Access API (best in Chrome/Edge). You‚Äôll be asked to pick your local <code>/posts</code> folder once.</span>
        </div>
      </form>
    </section>

     <hr />
     
    <section aria-labelledby="recent">
      <h2 id="recent">Recent entries</h2>
      <ul class="post-list" id="postList">
        <!-- Duplicate one <li> block below for each new post -->
        <li class="post-list-item">
          <time datetime="2025-11-17" class="post-date">Nov 17th, 2025</time>
          <a class="post-link" href="posts/2025-11-17-monday.html">Monday</a>
          <span class="post-tags">
            <a href="#" class="tag">Career Development</a>
            <a href="#" class="tag">Kinslea Driving</a>
            <a href="#" class="tag">Thanksgiving 2025</a>
          </span>
        </li>
        <li class="post-list-item">
          <time datetime="2025-10-22" class="post-date">Oct 22nd, 2025</time>
          <a class="post-link" href="posts/2025-10-22.html">Wednesday</a>
          <span class="post-tags">
            <a href="#" class="tag">Sleep habits</a>
            <a href="#" class="tag">ADHD & Dopamine</a>
            <a href="#" class="tag">Motivation & Productivity</a>
          </span>
        </li>
        <li class="post-list-item">
          <time datetime="2025-10-15" class="post-date">Oct 20th, 2025</time>
          <a class="post-link" href="posts/2025-10-20-small-wins.html">Monday</a>
          <span class="post-tags">
            <a href="#" class="tag">Reward Guilt</a>
            <a href="#" class="tag">Motivation</a>
            <a href="#" class="tag">Gratitude</a>
          </span>
        </li>
        <li class="post-list-item">
          <time datetime="2025-10-16" class="post-date">Oct 16th, 2025</time>
          <a class="post-link" href="posts/2025-10-16-hello.html">Thursday</a>
          <span class="post-tags">
            <a href="#" class="tag">Being too hard on myself</a>
            <a href="#" class="tag">Journaling</a>
            <a href="#" class="tag">Career Development</a>
          </span>
        </li>
      </ul>
    </section>
  </main>

  <footer class="site-footer" role="contentinfo">
    <p>&copy; <span id="year"></span> Michael Tidrow. All rights reserved.</p>
  </footer>

  <!-- Load journal logic BEFORE dark mode script -->
  <script src="assets/journal.js"></script>

  <script>
    // Dark mode toggle with localStorage persistence
    const toggle = document.getElementById('modeToggle');
    const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
    const saved = localStorage.getItem('color-scheme');

    if (saved) document.documentElement.dataset.theme = saved;
    else if (prefersDark) document.documentElement.dataset.theme = 'dark';

    function setPressed() {
      toggle.setAttribute('aria-pressed', document.documentElement.dataset.theme === 'dark' ? 'true' : 'false');
    }
    setPressed();

    toggle.addEventListener('click', () => {
      const current = document.documentElement.dataset.theme === 'dark' ? 'light' : 'dark';
      document.documentElement.dataset.theme = current;
      localStorage.setItem('color-scheme', current);
      setPressed();
    });

    // dynamic year
    document.getElementById('year').textContent = new Date().getFullYear();
  </script>
</body>
</html>
